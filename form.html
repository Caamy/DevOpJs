<h1>Form</h1>

<br>
<button ng-click="setState('list')" class="btn btn-primary">
    <span class="glyphicon glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
        Cancel
    </button>

<br><br>
<div class="col-xs-6">
    <form  novalidate name="bookForm" ng-submit="submitBook()">
        <fieldset>
            <legend>Création d'un livre</legend>

            <div class="form-group">
                <div class="fromGroup">
                    <label for="titre">Titre </label>
                    <input type="text" class="form-control" name="titre" id="titre"  ng-model="book.title" required/>
                    <div ng-if="bookForm.titre.$dirty" ng-messages="bookForm.titre.$error">
                        <p ng-message="required"> Ce champ est obligatoire !</p>
                    </div>
                </div>

                <div class="fromGroup">
                    <label for="description">Description</label>
                    <textarea type="text" class="form-control" name="description" id="description" ng-model="book.description" ng-minlength="10" required />
                    <div ng-if="bookForm.description.$dirty" ng-messages="bookForm.description.$error">
                        <p ng-message="required">Ce champ est obligatoire !</p>
                        <p ng-message="minlength">Ce champ doit faire plus de 10 caractères</p>
                    </div>
                </div>

                <div class="fromGroup">
                    <label for="publishDate">Date de publication</label>
                    <input type="text" class="form-control" name="publishDate" id="publishDate" ng-model="book.publishDate" required/>
                    <div ng-if="bookForm.publishDate.$dirty" ng-messages="bookForm.publishDate.$error">
                        <p ng-message="required">Ce champ est obligatoire !</p>
                    </div>
                </div>

                <div class="fromGroup">
                    <label for="cover">Couverture du livre</label>
                    <input type="url" class="form-control" name="cover" id="cover" ng-model="book.cover" required/>
                    <div ng-if="bookForm.cover.$dirty" ng-messages="bookForm.cover.$error">
                        <p ng-message="required">Ce champ est obligatoire !</p>
                        <p ng-message="url">Ce champ doit renseigner une URL</p>
                    </div>
                </div>

                <div class="fromGroup">
                    <label for="firstName">Prénom de l'auteur</label>
                    <input type="text" class="form-control" name="firstName" id="firstName" ng-model="book.author.firstName" required/>
                    <div ng-if="bookForm.firstName.$dirty" ng-messages="bookForm.firstName.$error">
                        <p ng-message="required">Ce champ est obligatoire !</p>
                    </div>
                </div>

                <div class="fromGroup">
                    <label for="lastName">Nom de l'auteur</label>
                    <input type="text" class="form-control" name="lastName" id="lastName" ng-model="book.author.lastName"required/>
                    <div ng-if="bookForm.lastName.$dirty" ng-messages="bookForm.lastName.$error">
                        <p ng-message="required">Ce champ est obligatoire !</p>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary pull-right" ng-disabled="bookForm.$invalid">Submit</button>


        </fieldset>
    </form>
</div>
